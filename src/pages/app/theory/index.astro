---
import { PageHeader } from "@/components/layout/page-header";
import { TenseCard } from "@/features/theory";
import AppLayout from "@/layouts/app-layout.astro";
import type { TenseCardData } from "@/types";
import { getCollection } from "astro:content";

const theoryEntries = await getCollection("theory");

const tenseData: TenseCardData[] = theoryEntries
  .sort((a, b) => a.data.order - b.data.order)
  .map((entry) => ({
    name: entry.data.tense,
    slug: entry.slug,
    description: entry.data.description,
  }));
---

<AppLayout title="Theory - TenseAI">
  <PageHeader title="Theory" description="Master grammar concepts at your own pace." />
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-8">
    {
      tenseData.map((tense) => (
        <TenseCard name={tense.name} slug={tense.slug} description={tense.description} client:load />
      ))
    }
  </div>
</AppLayout>
