---
import { ResetPasswordFormWithQueryClient } from "@/features/auth";
import AuthLayout from "@/layouts/auth-layout.astro";
import { NavigationRoutes } from "@/lib/enums/navigation";

const url = new URL(Astro.request.url);
const token = url.searchParams.get("token");

if (!token) {
  return Astro.redirect(NavigationRoutes.FORGOT_PASSWORD);
}
---

<AuthLayout title="Reset Password - TenseAI">
  <ResetPasswordFormWithQueryClient token={token} client:load />
</AuthLayout>
