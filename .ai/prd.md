# Product Requirements Document (PRD) - TenseAI

## 1. Product Overview

TenseAI is a web application designed to help English language learners master grammatical tenses. It leverages AI to provide a personalized and effective learning experience. The application generates contextual exercises and offers intelligent feedback, moving beyond static, repetitive drills.

The target audience is adult, self-directed learners who need a focused tool to practice and improve their understanding of English tenses. The Minimum Viable Product (MVP) will focus on providing a core, high-quality learning loop for the four most common English tenses.

The overarching goal of the MVP is to launch a stable, functional application that validates the core concept: AI-driven practice can significantly improve grammar acquisition.

---

## 2. User Problem

English learners, particularly those studying on their own, often struggle with the nuances of grammar tenses. Common challenges include:

- Lack of personalized feedback: Standard exercises provide a simple right/wrong answer without explaining the underlying error.
- Repetitive and unengaging content: Textbooks and many apps use a limited set of example sentences that quickly become boring and fail to cover real-world usage.
- Difficulty tracking progress: Learners often don't know if they are genuinely improving or just memorizing answers to specific questions.

TenseAI addresses these problems by providing an interactive learning environment where users receive AI-generated, context-rich questions and intelligent feedback that helps them understand their mistakes and see a clear path to improvement.

---

## 3. Functional Requirements

### 3.1. User Account Management

- `REQ-01`: Users must be able to register for an account using an email address and a password.
- `REQ-02`: Registration requires providing a name for personalization.
- `REQ-03`: The system must include an account activation process via email.
- `REQ-04`: Registered users must be able to log in to their account.
- `REQ-05`: Users must have the ability to reset a forgotten password.

### 3.2. Onboarding

- `REQ-06`: New users will complete a mandatory, two-step onboarding process after registration.
- `REQ-07`: Step one collects the user's name.
- `REQ-08`: Step two allows the user to set a default difficulty level (Basic or Advanced).

### 3.3. Core Application Interface

- `REQ-09`: The application will use responsive web navigation: a sidebar on desktop and a collapsible top navigation on small screens.
- `REQ-10`: The navigation will contain four main sections: "Practice", "Active Sessions", "Theory", and "History".

### 3.4. Theory Module

- `REQ-11`: The "Theory" section will provide access to educational materials for four tenses: Present Simple, Past Simple, Present Perfect, and Future Simple.
- `REQ-12`: All theoretical content will be created manually in Markdown format.
- `REQ-13`: Each article will have a consistent structure: usage, sentence construction, and common time expressions.

### 3.5. Training Module

- `REQ-14`: From the "Practice" screen, users can initiate a training session.
- `REQ-15`: Before starting, the user must select a grammar tense and a difficulty level (Basic: A2/B1 vocabulary, Advanced: B2 vocabulary). The difficulty level will default to the user's preference set during onboarding but can be changed for any session.
- `REQ-16`: A training session consists of 3 consecutive rounds.
- `REQ-17`: Each round contains 10 AI-generated, multiple-choice questions.
- **`REQ-17a`**: The user **does not** receive immediate feedback (e.g., "correct" or "incorrect") after answering a single question. Feedback is provided only at the end of the round.
- `REQ-18`: After each round, a summary screen is displayed showing the score (e.g., 7/10) and brief, general feedback generated by the AI.
- `REQ-19`: After completing all 3 rounds, a final session summary is displayed, showing the scores for all rounds and a detailed, AI-generated explanation of all errors made during the session.
- `REQ-20`: The application must persist the state of **all active sessions** for a user on the server. A user can have an **unlimited number of concurrent, active sessions**. If the user closes the site or browser tab, they will be able to resume **any of their active sessions** from the "Active Sessions" screen upon their next visit. A local cache may be used to improve recovery speed, but the server is the source of truth.

### 3.6. Session History

- `REQ-21`: The "History" section will display a chronological list of all completed training sessions.
- `REQ-22`: Each entry in the list will show the date, the grammar tense practiced, and the final score trend (e.g., 6/10 → 7/10 → 8/10).
- `REQ-23`: Users can click on a history entry to view the detailed final summary screen for that session, including the questions, their answers, and the AI's detailed error analysis.

### 3.7. AI Integration

- `REQ-24`: A Large Language Model (LLM) will be used to generate questions, round feedback, and the final error analysis.
- `REQ-25`: The AI's communication tone will be configured to be that of an informal, supportive "friendly coach".

### 3.8. User Feedback

- `REQ-26`: Each question during a training session will have a mechanism (e.g., a flag icon) for the user to report an error.
- `REQ-27`: Error reports will be saved to the database (Supabase) for manual review by the development team.

---

## 4. Product Boundaries

### 4.1. In Scope for MVP

- User registration, login, and password management.
- A choice of 4 grammar tenses: Present Simple, Past Simple, Present Perfect, Future Simple.
- One training mode: multiple-choice questions.
- Two difficulty levels: Basic (A2/B1) and Advanced (B2).
- AI-generated questions and feedback.
- Manually created theory content in Markdown.
- History of completed sessions with detailed summaries.
- Session pause and resume functionality.
- A user-facing mechanism for reporting question errors.

### 4.2. Out of Scope for MVP

- Additional training modes (e.g., fill-in-the-blanks, sentence construction).
- Gamification elements (points, streaks, badges, leaderboards).
- A spaced repetition system for reviewing questions.
- Coverage of all English grammar tenses.
- More granular difficulty levels.
- Social features (e.g., friend lists, sharing results).
- Data export features (e.g., save summary as PDF).
- Advanced user statistics or progress charts.
- Monetization features (subscriptions, ads, in-app purchases).

---

## 5. User Stories

### 5.1. Account Management

- ID: US-001
- Title: New User Registration
- Description: As a new user, I want to create an account using my email and a password so that I can save my progress and access my session history.
- Acceptance Criteria:
  - Given I am on the registration screen,
  - When I enter a valid email, my name, and a password that meets the security criteria,
  - And I click the "Register" button,
  - Then my account is created in an inactive state,
  - And I see a message instructing me to check my email to activate my account.

- ID: US-002
- Title: Account Activation
- Description: As a new user who has just registered, I want to activate my account via an email link so that I can log in and start using the app.
- Acceptance Criteria:
  - Given I have received an account activation email,
  - When I click the activation link,
  - Then I am taken to a confirmation page or the app's login screen,
  - And my account status is updated to "active".

- ID: US-003
- Title: User Login
- Description: As a registered user, I want to log in with my email and password to access my account and continue my learning.
- Acceptance Criteria:
  - Given I have an active account,
  - When I enter my correct email and password on the login screen,
  - And I click "Log In",
  - Then I am successfully authenticated and taken to the main "Practice" screen of the app.

- ID: US-004
- Title: Password Reset
- Description: As a registered user who has forgotten their password, I want to request a password reset link via email so I can regain access to my account.
- Acceptance Criteria:
  - Given I am on the login screen,
  - When I click the "Forgot Password?" link,
  - And I enter my registered email address,
  - Then an email with a password reset link is sent to that address,
  - And clicking the link allows me to set a new password.

### 5.2. Onboarding & Setup

- ID: US-005
- Title: First-Time User Onboarding
- Description: As a new user logging in for the first time, I want to go through a quick setup process to personalize the app.
- Acceptance Criteria:
  - Given I am a new user who has just activated my account and logged in,
  - When I see the first onboarding screen, I can enter my name.
  - When I proceed to the second screen, I can select a default difficulty level ("Basic" or "Advanced").
  - When I complete the setup,
  - Then I am taken to the main "Practice" screen.

### 5.3. Core Functionality

- ID: US-006
- Title: Navigating the App
- Description: As a user, I want to easily switch between the main sections of the application using the site's navigation (sidebar on desktop, collapsible top navigation on small screens).
- Acceptance Criteria:
  - Given I am on any main screen of the application,
  - When I click "Practice", "Active Sessions", "Theory", or "History" in the navigation,
  - Then I am taken to the corresponding screen without losing my logged-in state.

- ID: US-007
- Title: Accessing Theory
- Description: As a user, I want to read the theoretical explanations for a grammar tense to refresh my knowledge before practicing.
- Acceptance Criteria:
  - Given I am on the "Theory" screen,
  - When I see the list of available tenses (Present Simple, etc.),
  - And I click on one of them,
  - Then I am shown a well-formatted article in Markdown with information on usage, construction, and time expressions.

- ID: US-008
- Title: Starting a Training Session
- Description: As a user, I want to start a new practice session by choosing a tense and difficulty level.
- Acceptance Criteria:
  - Given I am on the "Practice" screen,
  - When I select a tense from the available options,
  - And I select a difficulty level ("Basic" or "Advanced"),
  - And I click the "Start Session" button,
  - Then a new training session begins, and I am presented with the first question of the first round.

- ID: US-009
- Title: Answering a Question
- Description: As a user in a training session, I want to answer a multiple-choice question.
- Acceptance Criteria:
  - Given I am presented with a question and multiple answer choices,
  - When I select an answer,
  - **Then the system records my answer _without_ showing me if it is correct or incorrect,**
  - And I am automatically advanced to the next question until the round of 10 questions is complete.

- ID: US-010
- Title: Viewing a Round Summary
- Description: As a user, I want to see my score and get brief feedback after completing each round of 10 questions to understand my performance.
- Acceptance Criteria:
  - Given I have just answered the 10th question of a round,
  - When the round ends,
  - Then I am shown a summary screen displaying my score for that round (e.g., "8/10"),
  - And a short, AI-generated "friendly coach" comment on my performance is displayed.
  - And a "Continue" button is present to start the next round or finish the session.

- ID: US-011
- Title: Pausing and Resuming Sessions
- Description: As a user, I want to be able to leave the app in the middle of a session and resume from where I left off, even if I have multiple sessions open.
- Acceptance Criteria:
  - Given I am in the middle of one or more training sessions,
  - When I close the site or browser tab,
  - Then my current progress for all active sessions is saved to the server.
  - When I return to the site and navigate to the "Active Sessions" screen,
  - Then I see a list of all my unfinished sessions,
  - And I can choose which one to resume.

- ID: US-012
- Title: Viewing the Final Session Summary
- Description: As a user who has completed all three rounds, I want to see a detailed summary of my performance to learn from my mistakes.
- Acceptance Criteria:
  - Given I have completed the third and final round of a session,
  - When I proceed from the final round summary,
  - Then I am shown a final summary screen.
  - The screen displays my score trend across the three rounds (e.g., 6/10 → 7/10 → 8/10).
  - If all is correct its only congratulations message
  - The screen includes a detailed, AI-generated analysis in Markdown of all the questions I answered incorrectly.

- ID: US-013
- Title: Viewing Session History
- Description: As a returning user, I want to view a list of my past sessions to track my learning journey.
- Acceptance Criteria:
  - Given I have completed at least one training session,
  - When I navigate to the "History" screen,
  - Then I see a list of all my completed sessions.
  - Each item in the list shows the date of the session, the tense, and the final score trend.

- ID: US-014
- Title: Reviewing a Past Session
- Description: As a user, I want to open a session from my history to review my mistakes and the AI's feedback in detail.
- Acceptance Criteria:
  - Given I am on the "History" screen,
  - When I click on a specific session from the list,
  - Then I am taken to a view of the final session summary for that session, containing the score trend and detailed error analysis.

### 5.4. Feedback & Edge Cases

- ID: US-015
- Title: Reporting an Incorrect Question
- Description: As a user, if I believe a question or its answer is incorrect, I want to report it so the app can be improved.
- Acceptance Criteria:
  - Given I am viewing a question during a training session,
  - When I click the "Report Error" icon,
  - Then a confirmation message is shown (e.g., "Thank you for your feedback!"),
  - And a report containing the question data and user ID is sent to the backend database for review.

- ID: US-016
- Title: Viewing Empty History
- Description: As a new user who has not completed any sessions, I want to see a helpful message on the "History" screen.
- Acceptance Criteria:
  - Given I am a new user with no completed sessions,
  - When I navigate to the "History" screen,
  - Then I see an "empty state" message, such as "You haven't completed any sessions yet. Go to the 'Practice' tab to get started!".

---

## 6. Success Metrics

As a non-commercial hobby project, the MVP's success will be measured by qualitative feedback and basic engagement rather than traditional business KPIs. The original, more complex criteria (e.g., completion rates) are formally deferred post-MVP.

- Primary Goal: Launch a functional, stable MVP version of the TenseAI application. This is a binary metric (achieved/not achieved).
- Qualitative Goal: Gather positive and constructive feedback from an initial group of at least 10 test users. Success is defined as at least 7 out of 10 testers providing positive feedback on the quality of exercises and AI-generated feedback.
- Quantitative Metric: Track the total number of completed training sessions across all users. This will serve as a general indicator of user engagement.
  - Measurement: This will be implemented by creating a new record in the `sessions` table in the database for each fully completed session (i.e., all 3 rounds finished), linked to the `user_id`. This allows for simple counting and potential future analysis.
